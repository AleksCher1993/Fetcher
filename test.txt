fetcher\main.py -->
import logging
import typer
from . import cli
from . import logger
logger.log_manager()
from . import config
logger=logging.getLogger(config.settings.app_name)


def main(name:str=typer.Option("John",help="Enter your name!",prompt="Enter your name: "),
         repeat:int=typer.Option(...,help="Enter count of iteration!",prompt="Enter count of iteration: ",min=1,max=20)):
    logger.info(f"Starting {config.settings.app_name}")

    typer.echo(f"{name} - {repeat}")
    cli.welcome(name,repeat)
if __name__ =="__main__":
    typer.run(main)

fetcher\logger.py -->
import logging
from pathlib import Path

def log_manager():
    current_dir = Path(__file__).resolve()
    project_root = current_dir.parent.parent
    log_dir = project_root / "logs"
    log_dir.mkdir(exist_ok=True)
    log_file = log_dir / "app.log"
    logging.basicConfig(
        filename=log_file,
        filemode="w",
        level=logging.INFO,
        format=" %(levelname)s | %(message)s"
    )

fetcher\config.py -->
from pydantic_settings import BaseSettings, SettingsConfigDict

class Settings(BaseSettings):
    app_name:str="FetcherTools"
    log_level:str="INFO"

    model_config=SettingsConfigDict(
        env_file=".env",
        env_file_encoding="utf-8",
        extra="ignore"
    )

settings=Settings()
fetcher\cli.py -->

import logging
from . import config
import typer

logger=logging.getLogger(config.settings.app_name)

def welcome(name:str,repeat:int):
    for i in range(repeat):
        logger.info(f"Hello {name} ({i+1} / {repeat})")
        typer.echo(f"Welcome {name}! I repeated that {i+1} / {repeat} times.")

.env -->
APP_NAME=FetcherAPP
LOG_LEVEL=INFO